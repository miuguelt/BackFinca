# FincaBack Production Environment (.env.production)
# NOTA: No subas este archivo a repositorios públicos. Manténlo seguro.

# Modo de ejecución
FLASK_ENV=production

# ==============================
# Base de Datos (Producción / Remoto)
# ==============================
DB_DRIVER=pymysql
DB_HOST=isladigital.xyz
DB_PORT=3311
DB_NAME=finca
DB_USER=fincau
DB_PASSWORD=fincac

# Cadena completa (opcional, sobrescribe lo anterior si se define)
SQLALCHEMY_DATABASE_URI=mysql+pymysql://fincau:fincac@isladigital.xyz:3311/finca

# ==============================
# JWT / Autenticación
# ==============================
# Genera un valor seguro localmente: python -c "import secrets; print(secrets.token_hex(32))"
# Reemplaza el valor por el secreto real en el entorno de producción (no en VCS).
JWT_SECRET_KEY=4b0594919d3e2a32bbb73e59edfab5eaca7f71ea9e0904f19dad49da3ccfdc46
JWT_COOKIE_DOMAIN=.isladigital.xyz
JWT_COOKIE_SECURE=true
JWT_COOKIE_SAMESITE=Strict
JWT_TOKEN_LOCATION=cookies

# ==============================
# HTTPS / Certificados
# ==============================
# Usar reverse proxy (nginx/caddy/traefik) con certificados reales (Let's Encrypt).
# En producción, el proxy/PLATAFORMA (Coolify) debe encargarse de TLS/HTTPS.
# Por seguridad dejamos que el reverse proxy termine TLS; la app no debe servir HTTPS directamente.
USE_HTTPS=false
# Opcional: si quieres que la app arranque con certificados locales, apunta aquí los archivos
SSL_CERT_FILE=certs/cert.crt
SSL_KEY_FILE=certs/cert.key

# ==============================
# URLs / Hosts
# ==============================
API_PROTOCOL=https
API_HOST=finca.isladigital.xyz
API_PORT=443
API_BASE_URL=https://finca.isladigital.xyz/api/v1
API_BASE_URL_NO_VERSION=https://finca.isladigital.xyz
API_DOCS_URL=https://finca.isladigital.xyz/docs
API_SWAGGER_URL=https://finca.isladigital.xyz/swagger.json

FRONTEND_PROTOCOL=https
FRONTEND_HOST=finca.isladigital.xyz
FRONTEND_PORT=443
FRONTEND_URL=https://finca.isladigital.xyz

BACKEND_PROTOCOL=https
BACKEND_HOST=finca.isladigital.xyz
BACKEND_PORT=443
BACKEND_URL=https://finca.isladigital.xyz

# ==============================
# Rate Limiting / Cache
# ==============================
RATE_LIMIT_STORAGE_URI=redis://localhost:6379

# ==============================
# Logging
# ==============================
LOG_LEVEL=INFO

# ==============================
# Seguridad / Operaciones
# ==============================
# Forzar que la app no use el debugger interactivo en producción
FORCE_DISABLE_DEBUGGER=true

# Forzar no crear tablas desde la app en producción a menos que se marque
FORCE_DB_CREATE=false

# Fin del archivo
